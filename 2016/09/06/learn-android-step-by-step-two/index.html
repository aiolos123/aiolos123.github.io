<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="android," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="本文为android入门的第二课的第一部分，学习了android高级控件、View视图的相关知识。学习来源：http://www.imooc.com/learn/107">
<meta property="og:type" content="article">
<meta property="og:title" content="android入门二">
<meta property="og:url" content="https://aiolos123.github.io/2016/09/06/learn-android-step-by-step-two/index.html">
<meta property="og:site_name" content="Aiolos Home">
<meta property="og:description" content="本文为android入门的第二课的第一部分，学习了android高级控件、View视图的相关知识。学习来源：http://www.imooc.com/learn/107">
<meta property="og:updated_time" content="2016-09-06T06:17:54.419Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="android入门二">
<meta name="twitter:description" content="本文为android入门的第二课的第一部分，学习了android高级控件、View视图的相关知识。学习来源：http://www.imooc.com/learn/107">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://aiolos123.github.io/2016/09/06/learn-android-step-by-step-two/"/>

  <title> android入门二 | Aiolos Home </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=58061634";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Aiolos Home</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">记录aiolos的学习成长</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                android入门二
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-06T17:44:38+08:00" content="2016-09-06">
              2016-09-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/06/learn-android-step-by-step-two/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/06/learn-android-step-by-step-two/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/09/06/learn-android-step-by-step-two/" class="leancloud_visitors" data-flag-title="android入门二">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>本文为android入门的第二课的第一部分，学习了android高级控件、View视图的相关知识。<br>学习来源：<a href="http://www.imooc.com/learn/107" target="_blank" rel="external">http://www.imooc.com/learn/107</a><br><a id="more"></a></p>
<h2 id="AndroidManifest-xml配置文件"><a href="#AndroidManifest-xml配置文件" class="headerlink" title="AndroidManifest.xml配置文件"></a>AndroidManifest.xml配置文件</h2><p>本质：AndroidManifest.xml是整个应用的主配置清单文件。<br>包含：该应用的包名、版本号、组件、权限等信息。<br>作用：记录该应用的相关的配置信息</p>
<h3 id="AndroidManifest-xml三类常用标签"><a href="#AndroidManifest-xml三类常用标签" class="headerlink" title="AndroidManifest.xml三类常用标签"></a>AndroidManifest.xml三类常用标签</h3><h4 id="全局标签-包名、版本信息、android版本"><a href="#全局标签-包名、版本信息、android版本" class="headerlink" title="全局标签(包名、版本信息、android版本)"></a>全局标签(包名、版本信息、android版本)</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?</span>xml <span class="built_in">version</span>=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></div><div class="line">&lt;manifest xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">   <span class="comment"> //应用的包名以及版本信息管理</span></div><div class="line">    package=<span class="string">"com.example.manifest21app"</span></div><div class="line">    android:versionCode=<span class="string">"1"</span></div><div class="line">    android:versionName=<span class="string">"1.0"</span> &gt;</div><div class="line">    </div><div class="line">   <span class="comment"> //控制android版本信息，支持的最低版本、期望的系统版本</span></div><div class="line">    &lt;uses-sdk</div><div class="line">        android:minSdkVersion=<span class="string">"8"</span></div><div class="line">        android:targetSdkVersion=<span class="string">"19"</span> /&gt;</div><div class="line">   <span class="comment"> //组件标签</span></div><div class="line">    ...</div><div class="line">   <span class="comment"> //权限标签</span></div><div class="line">    ...</div><div class="line">&lt;/manifest&gt;</div></pre></td></tr></table></figure>
<h4 id="组件标签-四大组件的声明和配置"><a href="#组件标签-四大组件的声明和配置" class="headerlink" title="组件标签(四大组件的声明和配置)"></a>组件标签(四大组件的声明和配置)</h4><p>使用application标签包裹，一个清单文件中只能包含一个application标签。<br>在其内部可以包含各种组件，如android的四大组件。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">...</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">uses-sdk</span> <span class="attr">...</span>/&gt;</span></div><div class="line"></div><div class="line">    //组件标签</div><div class="line">    <span class="tag">&lt;<span class="name">application</span></span></div><div class="line">        <span class="attr">android:allowBackup</span>=<span class="string">"true"</span></div><div class="line">        <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_launcher"</span>  //应用全局的图标</div><div class="line">        <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span>  //应用全局的标题</div><div class="line">        <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span>  //应用全局的主题样式</div><div class="line">    &gt;</div><div class="line">        //注册activity组件</div><div class="line">        //所有activity组件都必须在该配置文件中进行注册，否则程序会崩溃</div><div class="line">        <span class="tag">&lt;<span class="name">activity</span></span></div><div class="line">            //<span class="attr">activity</span>的唯一标识：使用包名<span class="attr">.</span>类名的命名方式</div><div class="line">            <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app.MainActivity"</span></div><div class="line">            //<span class="attr">activity</span>的标题</div><div class="line">            <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span> &gt;</div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                //应用的主入口配置，一个android应用只有一个主入口配置</div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 注册其他组件 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">activity</span> </span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app.OtherActivity"</span>&gt;</div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                //申明自身的标识</div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"aaa.bbb.ccc"</span>/&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.DEFAULT"</span>/&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">service</span> </span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app.BaseService"</span>&gt;</div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app"</span>/&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">service</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">receiver</span> </span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app.BaseReceiver"</span>&gt;</div><div class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"example.app.install"</span>/&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">provider</span> </span></div><div class="line">            <span class="attr">android:name</span>=<span class="string">"com.example.manifest21app.BaseProvider"</span></div><div class="line">            <span class="attr">android:authorities</span>=<span class="string">"aaa.bbb.ccc.ddd"</span>&gt;<span class="tag">&lt;/<span class="name">provider</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="权限标签-申请和定义权限的配置"><a href="#权限标签-申请和定义权限的配置" class="headerlink" title="权限标签(申请和定义权限的配置)"></a>权限标签(申请和定义权限的配置)</h4><h5 id="系统权限的使用"><a href="#系统权限的使用" class="headerlink" title="系统权限的使用"></a>系统权限的使用</h5><p>添加系统权限的步骤</p>
<pre><code>打开AndroidManifest.xml--&gt;Permissions选项卡--&gt;add--&gt;Uses permission--&gt;OK--&gt;Name下拉列表

使用&lt;user-permission&gt;申请系统权限
声明了哪些是由你选择的权限，而这些权限是应用程序正常秩序所必需的。
在安装程序时，你设定的所有权限将会告诉给用户，由他们来决定同意与否
</code></pre><p>代码示例如下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">...</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">uses-sdk</span> <span class="attr">...</span>/&gt;</span></div><div class="line">    <span class="comment">&lt;!--申请系统权限--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.BLUETOOTH"</span> <span class="attr">android:maxSdkVersion</span>=<span class="string">"16"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="自定义权限的使用"><a href="#自定义权限的使用" class="headerlink" title="自定义权限的使用"></a>自定义权限的使用</h5><pre><code>自定义权限可以自定义命名，来保护android的某些重要组件。
防止其他应用随意访问这些组件。
</code></pre><p>代码示例如下<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//使用permission声明自定义权限eee.fff.ggg</span></div><div class="line">&lt;permission</div><div class="line">    android:<span class="built_in">name</span>=<span class="string">"eee.fff.ggg"</span></div><div class="line">    android:maxSdkVersion=<span class="string">"16"</span>/&gt;</div><div class="line">&lt;activity </div><div class="line">            <span class="comment">//在将要使用的activity中使用android:permission属性来注册自定义权限eee.fff.ggg</span></div><div class="line">            <span class="comment">//注意：声明和使用的权限的名称必须一致。</span></div><div class="line">            android:permission=<span class="string">"eee.fff.ggg"</span></div><div class="line">            android:<span class="built_in">name</span>=<span class="string">"com.example.manifest21app.OtherActivity"</span>&gt;</div><div class="line">            &lt;intent-filter&gt;</div><div class="line">                &lt;<span class="built_in">action</span> android:<span class="built_in">name</span>=<span class="string">"aaa.bbb.ccc"</span>/&gt;</div><div class="line">                &lt;category android:<span class="built_in">name</span>=<span class="string">"android.intent.category.DEFAULT"</span>/&gt;</div><div class="line">            &lt;/intent-filter&gt;</div><div class="line">        &lt;/activity&gt;</div><div class="line"></div><div class="line"><span class="comment">//这样就实现了保护android的这个activity组件。</span></div><div class="line"><span class="comment">//想使用该组件，必须使用如下方法，否则程序会崩溃</span></div><div class="line"><span class="comment">//在其他应用程序中，使用uses-permission标签申请自定义权限eee.fff.ggg，以使用该activity组件</span></div><div class="line"></div><div class="line">&lt;uses-permission </div><div class="line">        android:<span class="built_in">name</span>=<span class="string">"eee.fff.ggg"</span></div><div class="line">        android:maxSdkVersion=<span class="string">"16"</span>/&gt;</div></pre></td></tr></table></figure></p>
<h2 id="适配器"><a href="#适配器" class="headerlink" title="适配器"></a>适配器</h2><pre><code>作用：把复杂的数据源(如数组、链表、数据库、集合等)填充到指定的视图界面上。
意义：数据适配器是连接数据源和视图界面的桥梁。
</code></pre><h3 id="使用适配器的三个步骤"><a href="#使用适配器的三个步骤" class="headerlink" title="使用适配器的三个步骤"></a>使用适配器的三个步骤</h3><pre><code>1、新建适配器
2、添加数据源到适配器
3、视图加载适配器
</code></pre><h2 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h2><pre><code>作用：android提供很多种事件监听器，主要是为了响应某个动作(动作的发起者可能是用户也可能是android系统本身)。
通过监听这种动作行为，执行特定程序代码来完成需要的功能
意义：监听器是程序和用户(或系统)交互的桥梁。
本质：每个监听器都是一个接口
</code></pre><h3 id="使用监听器的二个步骤"><a href="#使用监听器的二个步骤" class="headerlink" title="使用监听器的二个步骤"></a>使用监听器的二个步骤</h3><pre><code>1、为视图直接设置监听器
2、在监听器的实现方法中补充需要的代码
</code></pre><h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><pre><code>熟练运用OnScrollListener、OnItemClickListener两种监听器
熟练运用适配器数据的刷新NotifyDataChanged
</code></pre><h3 id="ListView是什么"><a href="#ListView是什么" class="headerlink" title="ListView是什么"></a>ListView是什么</h3><pre><code>作用：android系统中显示列表的控件
组成：每一个ListView都可以包含很多个列表项
类比: 类似于html中的ul，其中包含的列表项相当于li
</code></pre><h3 id="ListView下常用的两种适配器"><a href="#ListView下常用的两种适配器" class="headerlink" title="ListView下常用的两种适配器"></a>ListView下常用的两种适配器</h3><pre><code>ArrayAdapter(数组适配器):  用于绑定格式单一的数据；数据源可以是集合或数组。
SimpleAdapter(简单适配器): 用于绑定格式复杂的数据；数据源只能是特定泛型的集合。
</code></pre><h3 id="使用ListView的五个步骤"><a href="#使用ListView的五个步骤" class="headerlink" title="使用ListView的五个步骤"></a>使用ListView的五个步骤</h3><pre><code>1、初始化ListView视图对象
2、新建适配器
3、创建数据源并添加到适配器
4、ListView视图加载适配器
5、为ListView配置事件监听器
</code></pre><h3 id="ArrayAdapter的代码示例如下"><a href="#ArrayAdapter的代码示例如下" class="headerlink" title="ArrayAdapter的代码示例如下"></a>ArrayAdapter的代码示例如下</h3><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> ListView lv;</div><div class="line"><span class="keyword">private</span> ArrayAdapter&lt;<span class="keyword">String</span>&gt;arr_adapter;</div><div class="line"></div><div class="line">@Override</div><div class="line"><span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.main);</div><div class="line">    <span class="comment">//一、数组适配器的使用步骤</span></div><div class="line">    lv = (ListView)findViewById(R.id.lv);</div><div class="line">    <span class="comment">//1、新建数组适配器 - new</span></div><div class="line">    <span class="comment">//以数组为数据源的数组适配器的构造方法：</span></div><div class="line">    <span class="comment">//ArrayAdapter&lt;String&gt;(当前Activity上下文-即this本身, 当前ListView加载的每一个列表项所对应的布局文件, 数组数据源)</span></div><div class="line">    <span class="comment">//2、添加数据源到适配器</span></div><div class="line">    <span class="keyword">String</span>[]arr_data = &#123;<span class="string">"X课网1"</span>,<span class="string">"X课网2"</span>,<span class="string">"X课网3"</span>,<span class="string">"X课网4"</span>&#125;;</div><div class="line">    arr_adapter=<span class="keyword">new</span> ArrayAdapter&lt;<span class="keyword">String</span>&gt;(<span class="keyword">this</span>, android.R.layout.simple_list_item_1, arr_data);</div><div class="line">    <span class="comment">//3、ListView视图加载适配器</span></div><div class="line">    lv.setAdapter(arr_adapter);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="SimpleAdapter的代码示例如下"><a href="#SimpleAdapter的代码示例如下" class="headerlink" title="SimpleAdapter的代码示例如下"></a>SimpleAdapter的代码示例如下</h3><p>简单适配器的构造方法中的参数较多，注意与布局文件的ID的对应关系。<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> ListView lv;</div><div class="line"><span class="keyword">private</span> SimpleAdapter sim_adapter;</div><div class="line"><span class="keyword">private</span> List&lt;Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;&gt;dataList;</div><div class="line"></div><div class="line">@Override</div><div class="line"><span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.main);</div><div class="line">    </div><div class="line">    <span class="comment">//二、简单适配器的使用步骤</span></div><div class="line">    <span class="comment">//1、新建适配器</span></div><div class="line">    <span class="comment">//简单适配器的唯一一个构造方法:</span></div><div class="line">    <span class="comment">/* SimpleAdapter(context, data, resource, from, to)</span></div><div class="line">    * 其参数含义如下：</div><div class="line">    * context : 指当前Activity上下文--即this本身</div><div class="line">    * data: 数据源，是特定泛型的集合(List&lt;? extends Map&lt;String, ?&gt;&gt; data)</div><div class="line">    *       即一个由Map所组成的list集合</div><div class="line">    *       每一个Map都对应ListView中的一个列表项</div><div class="line">    *       每一个Map(键值对)中的键必须包含在from参数中</div><div class="line">    * resource: 列表项的布局文件ID</div><div class="line">    * from: 记录Map中的键的数组</div><div class="line">    * to: 绑定数据视图xml文件中的控件ID数组，与from成对应关系——即数组的第一个元素对应from数组的第一个元素</div><div class="line">    * </div><div class="line">    */</div><div class="line">    sim_adapter=<span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, getData(), R.layout.item, <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"pic"</span>,<span class="string">"text"</span>&#125;, <span class="keyword">new</span> <span class="built_in">int</span>[]&#123;R.id.pic,R.id.<span class="built_in">text</span>&#125;);</div><div class="line">    </div><div class="line">    <span class="comment">//如本例中</span></div><div class="line">    <span class="comment">//R.layout.item(即item.xml文件)就是列表项的布局文件的ID</span></div><div class="line">    <span class="comment">//to就是item.xml文件中的控件ID数组——new int[]&#123;R.id.pic,R.id.text&#125;</span></div><div class="line">    <span class="comment">//from就是记录Map中的键的数组——new String[]&#123;"pic","text"&#125;</span></div><div class="line">    <span class="comment">//data数据源就是生成数据源的getData()</span></div><div class="line">    <span class="comment">//3、ListView视图加载适配器</span></div><div class="line">    lv.setAdapter(sim_adapter);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//生成数据源</span></div><div class="line"><span class="keyword">private</span> List&lt;Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;&gt; getData()&#123;</div><div class="line">    <span class="comment">//每次新建一个Map,并保存到List集合中</span></div><div class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)&#123;</div><div class="line">        Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;<span class="built_in">map</span> =<span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;();</div><div class="line">        <span class="comment">//动态填充图片和文字内容</span></div><div class="line">        <span class="built_in">map</span>.put(<span class="string">"pic"</span>,R.drawable.ic_launcher);</div><div class="line">        <span class="built_in">map</span>.put(<span class="string">"text"</span>,<span class="string">"慕课网"</span>+i);</div><div class="line">        dataList.<span class="built_in">add</span>(<span class="built_in">map</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dataList;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>item.xml列表项布局文件如下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span> &gt;</div><div class="line">    </div><div class="line">    <span class="comment">&lt;!-- 图片在左，文字在右 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ImageView</span> </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/pic"</span></div><div class="line">        <span class="attr">android:layout_marginLeft</span>=<span class="string">"15dp"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:src</span>=<span class="string">"@drawable/ic_launcher"</span></div><div class="line">        /&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span> </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/text"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></div><div class="line">        <span class="attr">android:textColor</span>=<span class="string">"#000000"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"Demo"</span></div><div class="line">        /&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="监听ListView列表项点击事件"><a href="#监听ListView列表项点击事件" class="headerlink" title="监听ListView列表项点击事件"></a>监听ListView列表项点击事件</h3><p>onItemClickListener: 处理ListView视图中单个条目的点击事件<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">OnItemClickListener</span></span>&#123;</div><div class="line">    <span class="keyword">private</span> ListView lv;</div><div class="line">    <span class="keyword">private</span> ArrayAdapter&lt;String&gt;arr_adapter;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.main);</div><div class="line">        lv = (ListView)findViewById(R.id.lv);</div><div class="line"></div><div class="line">        String[]arr_data = &#123;<span class="string">"X课网1"</span>,<span class="string">"X课网2"</span>,<span class="string">"X课网3"</span>,<span class="string">"X课网4"</span>&#125;;</div><div class="line">        arr_adapter=<span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>, android.R.layout.simple_list_item_1, arr_data);</div><div class="line">        </div><div class="line">        lv.setAdapter(arr_adapter);</div><div class="line"></div><div class="line">        <span class="comment">//1、为ListView绑定监听器</span></div><div class="line">        lv.setOnItemClickListener(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//2、在监听器的实现方法中补充需要的代码</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; arg0, View arg1, <span class="keyword">int</span> position, <span class="keyword">long</span> arg3)</span> </span>&#123;</div><div class="line">        <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">        String tx = lv.getItemIdAtPosition(position)+<span class="string">""</span>;</div><div class="line">        Toast.makeText(<span class="keyword">this</span>, <span class="string">"position="</span>+position+<span class="string">" text="</span>+tx, Toast.LENGTH_SHORT).show();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="监听ListView列滚动事件"><a href="#监听ListView列滚动事件" class="headerlink" title="监听ListView列滚动事件"></a>监听ListView列滚动事件</h3><p>onScrollListener: 监听ListView滚动的变化，用于视图在滚动中加载数据<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">OnScrollListener</span>&#123;</span></div><div class="line">    </div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.main);</div><div class="line">        lv = (ListView)findViewById(R.id.lv);</div><div class="line">        </div><div class="line">        <span class="comment">//省略创建简单适配器的代码</span></div><div class="line">        lv.setAdapter(sim_adapter);</div><div class="line"></div><div class="line">        <span class="comment">//1、为ListView绑定监听器</span></div><div class="line">        lv.setOnScrollListener(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//2、在监听器的实现方法中补充需要的代码</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> onScroll(AbsListView view, <span class="keyword">int</span> firstVisibleItem,</div><div class="line">            <span class="keyword">int</span> visibleItemCount, <span class="keyword">int</span> totalItemCount) &#123;       </div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> onScrollStateChanged(AbsListView view, <span class="keyword">int</span> scrollState) &#123;</div><div class="line">        <span class="keyword">switch</span>(scrollState)&#123;</div><div class="line">            <span class="comment">//手指没有离开屏幕，视图正在滑动</span></div><div class="line">            <span class="keyword">case</span> <span class="string">SCROLL_STATE_TOUCH_SCROLL:</span></div><div class="line">                Log.i(<span class="string">"main"</span>,<span class="string">"手指没有离开屏幕，视图正在滑动"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            </div><div class="line">            <span class="comment">//用户在手中离开屏幕前，用力滑动一下，视图仍依靠惯性继续滑动</span></div><div class="line">            <span class="keyword">case</span> <span class="string">SCROLL_STATE_FLING:</span></div><div class="line">                <span class="comment">//实现下拉增加列表项的功能：</span></div><div class="line">                <span class="comment">//第一步：向下滑动增加一条列表项</span></div><div class="line">                Map&lt;String,Object&gt;map =<span class="keyword">new</span> HashMap&lt;String,Object&gt;();</div><div class="line">                map.put(<span class="string">"pic"</span>,R.drawable.ic_launcher);</div><div class="line">                map.put(<span class="string">"text"</span>,<span class="string">"增加项"</span>+<span class="number">21</span>);</div><div class="line">                dataList.add(map);</div><div class="line">                <span class="comment">//第二步：更新视图界面的数据</span></div><div class="line">                <span class="comment">//notifyDataSetChanged用于动态更新视图中所包含的数据</span></div><div class="line">                sim_adapter.notifyDataSetChanged();</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            </div><div class="line">            <span class="comment">//视图已停止滑动</span></div><div class="line">            <span class="keyword">case</span> <span class="string">SCROLL_STATE_IDLE:</span></div><div class="line">                Log.i(<span class="string">"main"</span>,<span class="string">"视图已停止滑动"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="DatePicker和TimePicker"><a href="#DatePicker和TimePicker" class="headerlink" title="DatePicker和TimePicker"></a>DatePicker和TimePicker</h2><p>DatePicker——动态输入并显示日期<br>TimePicker——动态输入并显示时间</p>
<h3 id="DatePickerDialog和TimePickerDialog"><a href="#DatePickerDialog和TimePickerDialog" class="headerlink" title="DatePickerDialog和TimePickerDialog"></a>DatePickerDialog和TimePickerDialog</h3><p>DatePickerDialog——动态输入并显示日期的对话框<br>TimePickerDialog——动态输入并显示时间的对话框</p>
<h3 id="两组监听日期时间改变的监听器"><a href="#两组监听日期时间改变的监听器" class="headerlink" title="两组监听日期时间改变的监听器"></a>两组监听日期时间改变的监听器</h3><table>
<thead>
<tr>
<th style="text-align:center">控件</th>
<th style="text-align:center">对应的监听器</th>
<th style="text-align:center">监听器的作用</th>
<th style="text-align:left">监听器里需要实现的事件</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DatePicker</td>
<td style="text-align:center">OnDateChangedListener</td>
<td style="text-align:center">当用户更改了DatePicker里的年、月、日，将触发OnDateChangedListener监听器的onDateChange()事件</td>
<td style="text-align:left">onDateChange()事件</td>
</tr>
<tr>
<td style="text-align:center">TimePicker</td>
<td style="text-align:center">OnTimeChangedListener</td>
<td style="text-align:center">当用户更改了TimePicker里的时、分，将触发OnTimeChangedListener监听器的onTimeChange()事件</td>
<td style="text-align:left">onTimeChange()事件</td>
</tr>
<tr>
<td style="text-align:center">DatePickerDialog</td>
<td style="text-align:center">OnDateSetListener</td>
<td style="text-align:center">当用户更改了DatePickerDialog里的年、月、日，将触发OnDateSetListener监听器的onDateSet()事件</td>
<td style="text-align:left">onDateSet()事件</td>
</tr>
<tr>
<td style="text-align:center">TimePickerDialog</td>
<td style="text-align:center">OnTimeSetListener</td>
<td style="text-align:center">当用户更改了TimePickerDialog里的时、分，将触发OnTimeSetListener监听器的onTimeSet()事件</td>
<td style="text-align:left">onTimeSet()事件</td>
</tr>
</tbody>
</table>
<h3 id="DatePicker与TimePicker的代码示例"><a href="#DatePicker与TimePicker的代码示例" class="headerlink" title="DatePicker与TimePicker的代码示例"></a>DatePicker与TimePicker的代码示例</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends Activity &#123;</div><div class="line">    </div><div class="line">    private DatePicker dp;</div><div class="line">    private TimePicker timepk;</div><div class="line">    private Calendar cal;</div><div class="line">    private int year,month,day,hour,minute;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span>获取日历的一个对象</div><div class="line">        cal =Calendar.getInstance();</div><div class="line">        <span class="regexp">//</span>获取年月日时分秒的信息</div><div class="line">        year = cal.get(Calendar.YEAR);</div><div class="line">        month = cal.get(Calendar.MONTH)+<span class="number">1</span>;<span class="regexp">//</span>Calendar的月从<span class="number">0</span>开始</div><div class="line">        day = cal.get(Calendar.DAY_OF_MONTH);</div><div class="line">        hour = cal.get(Calendar.HOUR_OF_DAY);</div><div class="line">        minute = cal.get(Calendar.MINUTE);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span>将时间设置为app的标题</div><div class="line">        setTitle(year+<span class="string">"-"</span>+month+<span class="string">"-"</span>+day+<span class="string">" "</span>+hour+<span class="string">":"</span>+minute);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span></div><div class="line">        <span class="regexp">//</span>使用DatePicker的步骤</div><div class="line">        <span class="regexp">//</span><span class="number">1</span>、获取对象</div><div class="line">        dp = (DatePicker) findViewById(R.id.dp);</div><div class="line">        timepk = (TimePicker) findViewById(R.id.tp);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span><span class="number">2</span>、datePicker初始化</div><div class="line">        <span class="regexp">//</span>注意：month参数从<span class="number">0</span>开始表示月份，所以直接使用cal.get(Calendar.MONTH)即可</div><div class="line">        dp.init(year, cal.get(Calendar.MONTH), day, new OnDateChangedListener() &#123;</div><div class="line">            </div><div class="line">            @Override</div><div class="line">            public void onDateChanged(DatePicker view, int year, int monthOfYear,</div><div class="line">                    int dayOfMonth) &#123;</div><div class="line">                <span class="regexp">//</span><span class="number">3</span>、获取选取后的日期结果</div><div class="line">                <span class="regexp">//m</span>onthOfYear返回的值从<span class="number">0</span>开始</div><div class="line">                setTitle(year+<span class="string">"-"</span>+(monthOfYear+<span class="number">1</span>)+<span class="string">"-"</span>+dayOfMonth);  </div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span></div><div class="line">        <span class="regexp">//</span>使用TimePicker的步骤</div><div class="line">        <span class="regexp">//</span><span class="number">2</span>、绑定监听器</div><div class="line">        timepk.setOnTimeChangedListener(new OnTimeChangedListener()&#123;</div><div class="line">            @Override</div><div class="line">            public void onTimeChanged(TimePicker view, int hourOfDay, int minute) &#123;</div><div class="line">                <span class="regexp">//</span><span class="number">3</span>、获取选取后的时间结果</div><div class="line">                setTitle(hourOfDay+<span class="string">":"</span>+minute);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="DatePickerDialog与TimePickerDialog的代码示例"><a href="#DatePickerDialog与TimePickerDialog的代码示例" class="headerlink" title="DatePickerDialog与TimePickerDialog的代码示例"></a>DatePickerDialog与TimePickerDialog的代码示例</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends Activity &#123;</div><div class="line">    </div><div class="line">    private Calendar cal;</div><div class="line">    private int year,month,day,hour,minute;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        <span class="regexp">//</span> TODO Auto-generated method stub</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span>获取日历的一个对象</div><div class="line">        cal =Calendar.getInstance();</div><div class="line">        <span class="regexp">//</span>获取年月日时分秒的信息</div><div class="line">        year = cal.get(Calendar.YEAR);</div><div class="line">        month = cal.get(Calendar.MONTH)+<span class="number">1</span>;<span class="regexp">//</span>Calendar的月从<span class="number">0</span>开始</div><div class="line">        day = cal.get(Calendar.DAY_OF_MONTH);</div><div class="line">        hour = cal.get(Calendar.HOUR_OF_DAY);</div><div class="line">        minute = cal.get(Calendar.MINUTE);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span>将时间设置为app的标题</div><div class="line">        setTitle(year+<span class="string">"-"</span>+month+<span class="string">"-"</span>+day+<span class="string">" "</span>+hour+<span class="string">":"</span>+minute);</div><div class="line">        </div><div class="line">        <span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span></div><div class="line">        <span class="regexp">//</span>使用DatePickerDialog的步骤</div><div class="line">        <span class="regexp">//</span><span class="number">1</span>、实例化DatePickerDialog对象并显示出来</div><div class="line">        new DatePickerDialog(this, new OnDateSetListener() &#123;</div><div class="line">            </div><div class="line">            @Override</div><div class="line">            public void onDateSet(DatePicker view, int year, int monthOfYear,</div><div class="line">                    int dayOfMonth) &#123;</div><div class="line">                <span class="regexp">//</span><span class="number">2</span>、获取选取后的日期结果</div><div class="line">                setTitle(year+<span class="string">"-"</span>+(monthOfYear+<span class="number">1</span>)+<span class="string">"-"</span>+dayOfMonth);</div><div class="line">            &#125;</div><div class="line">        &#125;, year, cal.get(Calendar.MONTH), day).show();</div><div class="line"></div><div class="line">        <span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span></div><div class="line">        <span class="regexp">//</span>使用TimePickerDialog的步骤</div><div class="line">        <span class="regexp">//</span><span class="number">1</span>、实例化TimePickerDialog对象并显示出来</div><div class="line">        new TimePickerDialog(this, new OnTimeSetListener() &#123;</div><div class="line">            @Override</div><div class="line">            public void onTimeSet(TimePicker view, int hourOfDay, int minute) &#123;</div><div class="line">                <span class="regexp">//</span><span class="number">2</span>、获取选取后的时间结果</div><div class="line">                setTitle(hourOfDay+<span class="string">":"</span>+minute);</div><div class="line">            &#125;</div><div class="line">        &#125;, hour, minute, true).show();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><pre><code>1、DatePicker和DatePickerDialog的对象的初始化及其返回值中的月份都是从0开始的。所以在显示月份时都需要加1
2、DatePicker对象以init()方法来指定DatePicker初始的年、月、日及OnDateChangedListener()的事件;
3、TimePicker对象直接以setOnTimeChangedListener()事件来处理时间改变时程序要做的操作;
4、DatePickerDialog与TimePickerDialog和上面两类Picker对象的最大差别在于
XXXPicker是直接显示在屏幕界面上，而XXXPickerDialog对象则是以弹出Dialog的方式来显示。
5、使用DatePickerDialog与TimePickerDialog的方法都是直接在初始化其对象时
传入上下文、监听器的实现和年月日/时分参数即可。
而不像DatePicker与TimePicker需要初始化或绑定事件监听器。
</code></pre><h2 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h2><p>GridView用于在界面上按行、列分布的方式来显示多个组件</p>
<h3 id="使用GridView的五个步骤————同ListView"><a href="#使用GridView的五个步骤————同ListView" class="headerlink" title="使用GridView的五个步骤————同ListView"></a>使用GridView的五个步骤————同ListView</h3><pre><code>1、初始化GridView视图对象
2、新建适配器
3、创建数据源并添加到适配器
4、为GridView视图加载适配器
5、为GridView配置事件监听器——OnItemClickListener
</code></pre><h3 id="GridView使用示例代码"><a href="#GridView使用示例代码" class="headerlink" title="GridView使用示例代码"></a>GridView使用示例代码</h3><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> class MainActivity extends Activity implements OnItemClickListener&#123;</div><div class="line">    <span class="keyword">private</span> GridView gv;</div><div class="line">    <span class="keyword">private</span> SimpleAdapter simAda;</div><div class="line">    <span class="keyword">private</span> List&lt;Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;&gt; dataList;</div><div class="line">    <span class="comment">//图标icon数组</span></div><div class="line">    <span class="keyword">private</span> <span class="built_in">int</span>[]icons = &#123;R.drawable.address_book,R.drawable.calendar,</div><div class="line">            R.drawable.<span class="built_in">camera</span>,R.drawable.clock,R.drawable.games_control,</div><div class="line">            R.drawable.messenger,R.drawable.ringtone,R.drawable.settings,</div><div class="line">            R.drawable.speech_balloon,R.drawable.weather,R.drawable.world,</div><div class="line">            R.drawable.youtube</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//图标icon名称数组</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">String</span>[]iconsName =&#123;</div><div class="line">            <span class="string">"通讯录"</span>,<span class="string">"日历"</span>,<span class="string">"照相机"</span>,<span class="string">"时钟"</span>,<span class="string">"游戏"</span>,</div><div class="line">            <span class="string">"短信"</span>,<span class="string">"铃声"</span>,<span class="string">"设置"</span>,<span class="string">"语音"</span>,<span class="string">"天气"</span>,<span class="string">"浏览器"</span>,</div><div class="line">            <span class="string">"视频"</span></div><div class="line">    &#125;;</div><div class="line">    @Override</div><div class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        </div><div class="line">        <span class="comment">//使用GridView的四个步骤</span></div><div class="line">        <span class="comment">//1、初始化GridView视图对象</span></div><div class="line">        gv = (GridView) findViewById(R.id.gv);</div><div class="line">        </div><div class="line">        <span class="comment">//2、新建适配器</span></div><div class="line">        <span class="comment">//3、创建数据源dataList并添加到适配器</span></div><div class="line">        dataList = <span class="keyword">new</span> ArrayList&lt;Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;&gt;();</div><div class="line">        simAda = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>,getData(),R.layout.item,<span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"img"</span>,<span class="string">"txt"</span>&#125;,<span class="keyword">new</span> <span class="built_in">int</span>[]&#123;R.id.img,R.id.txt&#125;);</div><div class="line">        </div><div class="line">        <span class="comment">//4、为GridView视图加载适配器</span></div><div class="line">        gv.setAdapter(simAda);</div><div class="line">        <span class="comment">//5、为GridView配置事件监听器——OnItemClickListener</span></div><div class="line">        gv.setOnItemClickListener(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//3、创建数据源dataList</span></div><div class="line">    <span class="keyword">private</span> List&lt;Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;&gt; getData() &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;icons.length;i++)&#123;</div><div class="line">            Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;<span class="built_in">map</span> = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt;();</div><div class="line">            <span class="built_in">map</span>.put(<span class="string">"img"</span>, icons[i]);</div><div class="line">            <span class="built_in">map</span>.put(<span class="string">"txt"</span>,iconsName[i]);</div><div class="line">            dataList.<span class="built_in">add</span>(<span class="built_in">map</span>);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> dataList;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//通过接口实现监听器</span></div><div class="line">    @Override</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> onItemClick(AdapterView&lt;?&gt; arg0, View arg1, <span class="built_in">int</span> position, <span class="keyword">long</span> arg3) &#123;</div><div class="line">        Toast.makeText(<span class="keyword">this</span>,<span class="string">"我是"</span>+iconsName[position],Toast.LENGTH_SHORT).show();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="使用GridView视图时，需要2个布局文件"><a href="#使用GridView视图时，需要2个布局文件" class="headerlink" title="使用GridView视图时，需要2个布局文件"></a>使用GridView视图时，需要2个布局文件</h3><p>一个布局GridView控件，另一个布局GridView内组件<br>在布局GridView控件时，需要用到的属性如下：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;<span class="name">GridView</span> </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/gv"</span></div><div class="line">        <span class="attr">android:layout_marginTop</span>=<span class="string">"10dp"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line"></div><div class="line">        &lt;!<span class="attr">--</span>每一行显示多少列<span class="attr">--</span>&gt;</div><div class="line">        android:numColumns="3"</div><div class="line">        <span class="comment">&lt;!--两列之间的间距--&gt;</span></div><div class="line">        android:horizontalSpacing="10dp"</div><div class="line">        <span class="comment">&lt;!--两行之间的间距--&gt;</span></div><div class="line">        android:verticalSpacing="10dp"&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">GridView</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>另一个布局GridView内组件的XML文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></div><div class="line">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</div><div class="line">    </div><div class="line">    <span class="tag">&lt;<span class="name">ImageView</span> </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/img"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"60dp"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span></div><div class="line">        <span class="attr">android:src</span>=<span class="string">"@drawable/ic_launcher"</span>/&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span> </span></div><div class="line">        <span class="attr">android:layout_marginTop</span>=<span class="string">"5dp"</span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/txt"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"android"</span></div><div class="line">        <span class="attr">android:textColor</span>=<span class="string">"#ffffff"</span>/&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="Spinner"><a href="#Spinner" class="headerlink" title="Spinner"></a>Spinner</h2><p>使用Spinner实现下拉列表的功能</p>
<h3 id="使用Spinner的六个步骤"><a href="#使用Spinner的六个步骤" class="headerlink" title="使用Spinner的六个步骤"></a>使用Spinner的六个步骤</h3><pre><code>1、初始化Spinner视图对象
2、创建数据源
3、新建适配器，添加数据源
4、为适配器设置下拉列表下拉时的菜单样式
5、为Spinner加载适配器
6、为Spinner配置事件监听器——OnItemSelectedListener
</code></pre><h3 id="使用Spinner示例代码"><a href="#使用Spinner示例代码" class="headerlink" title="使用Spinner示例代码"></a>使用Spinner示例代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">OnItemSelectedListener</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> TextView tv;</div><div class="line">    <span class="keyword">private</span> Spinner sp;</div><div class="line">    <span class="keyword">private</span> List&lt;String&gt;list;</div><div class="line">    <span class="keyword">private</span> ArrayAdapter&lt;String&gt;ad;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        <span class="comment">//1、初始化Spinner视图对象</span></div><div class="line">        tv = (TextView)findViewById(R.id.tv);</div><div class="line">        tv.setText(<span class="string">"您选择的城市是：北京"</span>);</div><div class="line">        sp = (Spinner) findViewById(R.id.sp);</div><div class="line">        </div><div class="line">        <span class="comment">//2、设置数据源</span></div><div class="line">        list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        list.add(<span class="string">"北京"</span>);</div><div class="line">        list.add(<span class="string">"上海"</span>);</div><div class="line">        list.add(<span class="string">"广州"</span>);</div><div class="line">        list.add(<span class="string">"深圳"</span>);</div><div class="line">        <span class="comment">//3、新建ArrayAdapter</span></div><div class="line">        ad = <span class="keyword">new</span> ArrayAdapter(<span class="keyword">this</span>,android.R.layout.simple_spinner_item,list);</div><div class="line">        <span class="comment">//4、为适配器设置下拉列表下拉时的菜单样式</span></div><div class="line">        ad.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);</div><div class="line">        <span class="comment">//5、为Spinner加载适配器</span></div><div class="line">        sp.setAdapter(ad);</div><div class="line">        <span class="comment">//6、为Spinner配置事件监听器——OnItemSelectedListener</span></div><div class="line">        sp.setOnItemSelectedListener(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//6、为Spinner配置事件监听器——OnItemSelectedListener</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemSelected</span><span class="params">(AdapterView&lt;?&gt; arg0, View arg1, <span class="keyword">int</span> position,</span></span></div><div class="line">            <span class="keyword">long</span> arg3) &#123;</div><div class="line">        String cityName = ad.getItem(position);</div><div class="line">        <span class="comment">//或者使用如下方式获取下拉列表项</span></div><div class="line">        <span class="comment">//String cityName = list.get(position);</span></div><div class="line">        tv.setText(<span class="string">"您选择的城市是："</span>+cityName);</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNothingSelected</span><span class="params">(AdapterView&lt;?&gt; arg0)</span> </span>&#123;</div><div class="line">        <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">           </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Spinner的布局文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">Spinner</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/sp"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</div><div class="line">    </div><div class="line"> <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="ProgressBar"><a href="#ProgressBar" class="headerlink" title="ProgressBar"></a>ProgressBar</h2><p>ProgressBar是进度条组件，通常用于展示耗时操作完成的进度。<br>使用ProgressBar实现加载进度条效果</p>
<h3 id="定制ProgressBar显示风格"><a href="#定制ProgressBar显示风格" class="headerlink" title="定制ProgressBar显示风格"></a>定制ProgressBar显示风格</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;LinearLayout <span class="params">...</span>&gt;</div><div class="line">    &lt;ProgressBar</div><div class="line">        android:id=<span class="string">"@+id/pb"</span></div><div class="line">        style=<span class="string">"?android:attr/progressBarStyleLarge"</span>  <span class="comment">//大环形进度条</span></div><div class="line">        <span class="comment">//不设置style属性时，默认为中环形进度条</span></div><div class="line">        style=<span class="string">"?android:attr/progressBarStyleSmall"</span>   <span class="comment">//小环形进度条</span></div><div class="line">        style=<span class="string">"?android:attr/progressBarStyleHorizontal"</span>   <span class="comment">//水平进度条</span></div><div class="line">        android:layout_width=<span class="string">"wrap_content"</span></div><div class="line">        android:layout_height=<span class="string">"wrap_content"</span> /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure>
<h3 id="ProgressBar的两个分类"><a href="#ProgressBar的两个分类" class="headerlink" title="ProgressBar的两个分类"></a>ProgressBar的两个分类</h3><p>一种是可以精确显示进度(可以显示刻度或百分比)————水平进度条<br>一种是不能精确显示进度(一直转,类似于一个过渡动画)————环形进度条</p>
<h3 id="标题栏显示ProgressBar"><a href="#标题栏显示ProgressBar" class="headerlink" title="标题栏显示ProgressBar"></a>标题栏显示ProgressBar</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) &#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        <span class="comment">//启用窗口特征，启用带进度和不带进度的进度条</span></div><div class="line">        requestWindowFeature(<span class="type">Window</span>.<span class="type">FEATURE_PROGRESS</span>);</div><div class="line">        requestWindowFeature(<span class="type">Window</span>.<span class="type">FEATURE_INDETERMINATE_PROGRESS</span>);</div><div class="line">        </div><div class="line">        setContentView(<span class="type">R</span>.layout.activity_main);</div><div class="line">        </div><div class="line">        <span class="comment">//显示带进度的进度条;false为不显示进度条</span></div><div class="line">        setProgressBarVisibility(<span class="literal">true</span>);</div><div class="line">        <span class="comment">//设置带进度的进度条的刻度，最大刻度是一个常量值：1万</span></div><div class="line">        <span class="comment">//当设置为1万时，表示完成，进度条消失。</span></div><div class="line">        setProgress(<span class="number">600</span>);</div><div class="line">        <span class="comment">//显示不带进度的进度条;false为不显示进度条</span></div><div class="line">        setProgressBarIndeterminateVisibility(<span class="literal">true</span>);   </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ProgressBar的关键属性"><a href="#ProgressBar的关键属性" class="headerlink" title="ProgressBar的关键属性"></a>ProgressBar的关键属性</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>secondaryProgress=<span class="string">"80"</span> <span class="comment">//缓存进度</span></div><div class="line"><span class="symbol">android:</span>progress=<span class="string">"50"</span>  <span class="comment">//播放进度</span></div><div class="line"><span class="symbol">android:</span>max=<span class="string">"100"</span>     <span class="comment">//最大进度</span></div><div class="line"><span class="comment">//设置是否精确显示，true表示不精确显示进度；false为精确显示进度</span></div><div class="line"><span class="symbol">android:</span>indeterminate=<span class="string">"true"</span></div></pre></td></tr></table></figure>
<h3 id="ProgressBar的关键方法"><a href="#ProgressBar的关键方法" class="headerlink" title="ProgressBar的关键方法"></a>ProgressBar的关键方法</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">setProgress</span><span class="params">(int)</span></span>  <span class="comment">//设置播放进度</span></div><div class="line"><span class="function"><span class="title">getProgress</span><span class="params">()</span></span>  <span class="comment">//获取播放进度</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">setSecondaryProgress</span><span class="params">(int)</span></span> <span class="comment">//设置缓存进度</span></div><div class="line"><span class="function"><span class="title">getSecondaryProgress</span><span class="params">()</span></span>  <span class="comment">//获取缓存进度</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">incrementProgressBy</span><span class="params">(int)</span></span>  <span class="comment">//增加或减少播放进度</span></div><div class="line"><span class="function"><span class="title">incrementSecondaryProgressBy</span><span class="params">(int)</span></span>  <span class="comment">//增加或减少缓存进度</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">getMax</span><span class="params">()</span></span>  <span class="comment">//获取最大进度</span></div></pre></td></tr></table></figure>
<h3 id="使用ProgressBar实现加载进度条示例代码"><a href="#使用ProgressBar实现加载进度条示例代码" class="headerlink" title="使用ProgressBar实现加载进度条示例代码"></a>使用ProgressBar实现加载进度条示例代码</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">public</span> <span class="selector-tag">class</span> <span class="selector-tag">MainActivity</span> <span class="selector-tag">extends</span> <span class="selector-tag">Activity</span> <span class="selector-tag">implements</span> <span class="selector-tag">OnClickListener</span>&#123;</div><div class="line">    </div><div class="line">    private ProgressBar pro;</div><div class="line">    private Button add,reduce,reset;</div><div class="line">    private TextView tv;</div><div class="line">    <span class="variable">@Override</span></div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super<span class="selector-class">.onCreate</span>(savedInstanceState);</div><div class="line">        setContentView(R<span class="selector-class">.layout</span><span class="selector-class">.activity_main</span>);</div><div class="line">        </div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void init() &#123;</div><div class="line">        <span class="comment">//初始化控件</span></div><div class="line">        pro = (ProgressBar) findViewById(R<span class="selector-class">.id</span><span class="selector-class">.hor</span>);</div><div class="line">        add = (Button)findViewById(R<span class="selector-class">.id</span><span class="selector-class">.add</span>);</div><div class="line">        reduce = (Button)findViewById(R<span class="selector-class">.id</span><span class="selector-class">.reduce</span>);</div><div class="line">        reset = (Button)findViewById(R<span class="selector-class">.id</span><span class="selector-class">.reset</span>);</div><div class="line">        tv = (TextView)findViewById(R<span class="selector-class">.id</span><span class="selector-class">.text</span>);</div><div class="line">        </div><div class="line">        <span class="comment">//获取播放进度</span></div><div class="line">        int playProgress = pro<span class="selector-class">.getProgress</span>();</div><div class="line">        <span class="comment">//获取缓存进度</span></div><div class="line">        int cacheProgress = pro<span class="selector-class">.getSecondaryProgress</span>();</div><div class="line">        <span class="comment">//获取最大进度</span></div><div class="line">        int maxProgress = pro<span class="selector-class">.getMax</span>();</div><div class="line">        <span class="comment">//设置最初的显示文本</span></div><div class="line">        tv<span class="selector-class">.setText</span>(<span class="string">"播放进度"</span>+(int)(playProgress/(float)maxProgress*<span class="number">100</span>)+<span class="string">"% 缓存进度="</span>+(int)(cacheProgress/(float)maxProgress*<span class="number">100</span>)+<span class="string">"%"</span>);</div><div class="line">        </div><div class="line">        <span class="comment">//设置button的监听器</span></div><div class="line">        add<span class="selector-class">.setOnClickListener</span>(this);</div><div class="line">        reduce<span class="selector-class">.setOnClickListener</span>(this);</div><div class="line">        reset<span class="selector-class">.setOnClickListener</span>(this);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//在监听器中处理按钮的逻辑</span></div><div class="line">    <span class="variable">@Override</span></div><div class="line">    public void onClick(View v) &#123;</div><div class="line">        </div><div class="line">        <span class="selector-tag">switch</span>(v.getId())&#123;</div><div class="line">            <span class="selector-tag">case</span> <span class="selector-tag">R</span><span class="selector-class">.id</span><span class="selector-class">.add</span>:&#123;</div><div class="line">                <span class="comment">//增加播放进度和缓存进度 10个刻度</span></div><div class="line">                pro<span class="selector-class">.incrementProgressBy</span>(<span class="number">10</span>);</div><div class="line">                pro<span class="selector-class">.incrementSecondaryProgressBy</span>(<span class="number">10</span>);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            case R.id.<span class="attribute">reduce</span>:&#123;</div><div class="line">                <span class="comment">//减少播放进度和缓存进度 10个刻度</span></div><div class="line">                pro<span class="selector-class">.incrementProgressBy</span>(-<span class="number">10</span>);</div><div class="line">                pro<span class="selector-class">.incrementSecondaryProgressBy</span>(-<span class="number">10</span>);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">            case R.id.<span class="attribute">reset</span>:&#123;</div><div class="line">                <span class="comment">//重置进度条</span></div><div class="line">                pro<span class="selector-class">.setProgress</span>(<span class="number">50</span>);</div><div class="line">                pro<span class="selector-class">.setSecondaryProgress</span>(<span class="number">80</span>);</div><div class="line">                break;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">//设置最后的显示文本</span></div><div class="line">        tv<span class="selector-class">.setText</span>(<span class="string">"播放进度"</span>+(int)(pro.getProgress()/(float)pro.getMax()*<span class="number">100</span>)+<span class="string">"% 缓存进度="</span>+(int)(pro.getSecondaryProgress()/(float)pro.getMax()*<span class="number">100</span>)+<span class="string">"%"</span>);           </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="对话框形式的进度条ProgressDialog的使用"><a href="#对话框形式的进度条ProgressDialog的使用" class="headerlink" title="对话框形式的进度条ProgressDialog的使用"></a>对话框形式的进度条ProgressDialog的使用</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">public</span> <span class="selector-tag">class</span> <span class="selector-tag">MainActivity</span> <span class="selector-tag">extends</span> <span class="selector-tag">Activity</span>&#123;</div><div class="line">    </div><div class="line">    private Button btn;</div><div class="line">    private ProgressDialog pd;</div><div class="line"></div><div class="line">    <span class="variable">@Override</span></div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super<span class="selector-class">.onCreate</span>(savedInstanceState);</div><div class="line">        setContentView(R<span class="selector-class">.layout</span><span class="selector-class">.activity_main</span>);</div><div class="line">        </div><div class="line">        <span class="comment">//ProgressDialog的使用</span></div><div class="line">        btn = (Button)findViewById(R<span class="selector-class">.id</span><span class="selector-class">.btn</span>);</div><div class="line">        <span class="selector-tag">btn</span><span class="selector-class">.setOnClickListener</span>(new OnClickListener() &#123;</div><div class="line">            </div><div class="line">            <span class="variable">@Override</span></div><div class="line">            public void onClick(View v) &#123;</div><div class="line">                </div><div class="line">                <span class="comment">//1、设置ProgressDialog界面风格</span></div><div class="line"></div><div class="line">                <span class="comment">//创建ProgressDialog对象</span></div><div class="line">                pd = new ProgressDialog(MainActivity<span class="selector-class">.this</span>);</div><div class="line">                <span class="comment">//设置显示风格——进度条的种类</span></div><div class="line">                pd<span class="selector-class">.setProgressStyle</span>(pd.STYLE_HORIZONTAL);</div><div class="line">                <span class="comment">//设置标题</span></div><div class="line">                pd<span class="selector-class">.setTitle</span>(<span class="string">"X课网"</span>);</div><div class="line">                <span class="comment">//设置对话框里的文字信息</span></div><div class="line">                pd<span class="selector-class">.setMessage</span>(<span class="string">"欢迎访问本博客"</span>);</div><div class="line">                <span class="comment">//设置标题icon</span></div><div class="line">                pd<span class="selector-class">.setIcon</span>(R.drawable.ic_launcher);</div><div class="line">                </div><div class="line">                <span class="comment">//2、设置ProgressDialog进度条信息</span></div><div class="line"></div><div class="line">                <span class="comment">//设置进度条最大刻度</span></div><div class="line">                pd<span class="selector-class">.setMax</span>(<span class="number">100</span>);</div><div class="line">                <span class="comment">//设置初始状态已经增长到的进度</span></div><div class="line">                pd<span class="selector-class">.incrementProgressBy</span>(<span class="number">50</span>);</div><div class="line">                <span class="comment">//设置进度条精确显示进度</span></div><div class="line">                pd<span class="selector-class">.setIndeterminate</span>(false);</div><div class="line">                </div><div class="line">                <span class="comment">//3、设置一个确定按钮</span></div><div class="line">                <span class="selector-tag">pd</span><span class="selector-class">.setButton</span>(DialogInterface.BUTTON_POSITIVE, <span class="string">"确定"</span>, new DialogInterface.OnClickListener() &#123;</div><div class="line">                    </div><div class="line">                    <span class="variable">@Override</span></div><div class="line">                    public void onClick(DialogInterface dialog, int which) &#123;</div><div class="line">                        <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">                        Toast<span class="selector-class">.makeText</span>(MainActivity.this, <span class="string">"欢迎大家访问本博客"</span>, Toast.LENGTH_SHORT)<span class="selector-class">.show</span>();</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">                </div><div class="line">                <span class="comment">//4、设置是否可以通过返回物理按钮退出对话框</span></div><div class="line">                <span class="selector-tag">pd</span><span class="selector-class">.setCancelable</span>(true);<span class="comment">//true表示可以</span></div><div class="line">                </div><div class="line">                <span class="comment">//5、显示ProgressDialog</span></div><div class="line">                <span class="selector-tag">pd</span><span class="selector-class">.show</span>();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="自定义进度条样式"><a href="#自定义进度条样式" class="headerlink" title="自定义进度条样式"></a>自定义进度条样式</h3><h4 id="默认进度条样式的引用路径"><a href="#默认进度条样式的引用路径" class="headerlink" title="默认进度条样式的引用路径"></a>默认进度条样式的引用路径</h4><p>从ProgressBar的xml布局文件的style<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></div><div class="line">    <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span></div><div class="line">/&gt;</div></pre></td></tr></table></figure></p>
<p>进入到style.xml文件的android:progressDrawable<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;style name=<span class="string">"Widget.ProgressBar.Horizontal"</span>&gt;</div><div class="line">    &lt;item name=<span class="string">"android:progressDrawable"</span>&gt;<span class="variable">@android</span><span class="symbol">:drawable/progress_horizontal&lt;/item&gt;</span></div><div class="line">&lt;<span class="regexp">/style&gt;</span></div></pre></td></tr></table></figure></p>
<p>再进入到progress_horizontal.xml文件<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;<span class="built_in">item</span> android:<span class="built_in">id</span>=<span class="string">"@android:id/background"</span>&gt;设置进度条背景&lt;/<span class="built_in">item</span>&gt;</div><div class="line">&lt;<span class="built_in">item</span> android:<span class="built_in">id</span>=<span class="string">"@android:id/secondaryProgress"</span>&gt;设置缓存进度条&lt;/<span class="built_in">item</span>&gt;</div><div class="line">&lt;<span class="built_in">item</span> android:<span class="built_in">id</span>=<span class="string">"@android:id/progress"</span>&gt;设置播放进度条&lt;/<span class="built_in">item</span>&gt;</div></pre></td></tr></table></figure></p>
<h4 id="自定义进度条样式-1"><a href="#自定义进度条样式-1" class="headerlink" title="自定义进度条样式"></a>自定义进度条样式</h4><p>1、首先在drawable文件夹下按照progress_horizontal.xml文件的格式重新编写进度条的样式，并命名为如progress_bar.xml<br>2、修改ProgressBar的xml布局文件，覆盖默认的progressDrawable引用，指向自定义的xml进度条样式文件progress_bar.xml<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;ProgressBar</div><div class="line">    style=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span></div><div class="line">    android:progressDrawable=<span class="string">"@drawable/progress_bar"</span></div><div class="line">/&gt;</div></pre></td></tr></table></figure></p>
<h2 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h2><h3 id="通过Intent调用系统浏览器"><a href="#通过Intent调用系统浏览器" class="headerlink" title="通过Intent调用系统浏览器"></a>通过Intent调用系统浏览器</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="type">String</span> url = <span class="string">"http://www.baidu.com"</span>;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) &#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(<span class="type">R</span>.layout.activity_main);</div><div class="line"></div><div class="line">        <span class="type">Uri</span> uri = <span class="type">Uri</span>.parse(url);<span class="comment">//url为你要链接的地址</span></div><div class="line">        <span class="type">Intent</span> intent = <span class="keyword">new</span> <span class="type">Intent</span>(<span class="type">Intent</span>.<span class="type">ACTION_VIEW</span>,uri);</div><div class="line">        startActivity(intent);</div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="使用WebView在界面中显示网页"><a href="#使用WebView在界面中显示网页" class="headerlink" title="使用WebView在界面中显示网页"></a>使用WebView在界面中显示网页</h3><p>使用WebView在界面中显示网页的八个步骤：</p>
<pre><code>1、将WebView加入到你的应用中
      要在你的应用中加入WebView，只需在xml布局文件中加入&lt;WebView&gt;元素即可
      &lt;LinearLayout ...&gt;
            &lt;WebView 
                android:id=&quot;@+id/web&quot;
                android:layout_width=&quot;match_parent&quot;
                android:layout_height=&quot;match_parent&quot;/&gt;
      &lt;/LinearLayout&gt;
2、使用WebView加载页面
      要在WebView加载页面，使用loadUrl()方法
         加载web资源：webView.loadUrl(&quot;http://www.baidu.com&quot;);
         加载本地文件：webView.loadUrl(&quot;file:///android_asset/XX.html&quot;);
             本地文件存放在assets文件夹中

         //使页面获得焦点，进行输入等操作
         webView.requestFocus();
 3、获取网络访问权限
       在WebView有效工作之前，要保证应用能访问网络，即在配置文件中配置了
       INTERNET权限。
       &lt;manifest ...&gt;
       ...
         &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;
       ...
       &lt;/manifest&gt;

4、处理页面导航
       当用户点击一个WebView中的页面链接时，通常由默认的浏览器打开并加载目标URL。
         然而，可以在WebView中覆盖这一由默认浏览器打开页面的行为————
       通过webView.setWebViewClient(new WebViewClient(){})那么链接就会在WebView中打开。

5、在WebView中使用JavaScript
        如果想在加载的WebView中的web页面上使用javascript，需要在WebView中启用javascript。
        启用Javascript通过WebView中带有的WebSettings来启用。可通过getSettings()来获取WebSettings的值，然后通过setJavaScriptEnabled()来启用Javascript

         WebView web = (WebView) findViewById(R.id.web);
         WebSettings websettings = web.getSettings();
         websettings.setJavaScriptEnabled(true);

6、网页后退与前进
       当WebView覆盖了URL加载——即第5步操作，它会自动生成历史访问记录。可以通过goBack()或
       goForward()向前或向后访问已访问过的站点

       @Override
       public boolean onKeyDown(int keyCode,KeyEvent event){
         if((keyCode == KeyEvent.KEYCODE_BACK)&amp;&amp; webView.canGoBack()){
             webView.goBack();
             return true;
         }
         return super.onKeyDown(keyCode,event);
       }


7、判断页面加载过程
         由于网页可能加载缓慢，所以需要去判断页面的加载过程，制作进度条给予
        用户良好的体验

        web.setWebChromeClient(new WebChromeClient(){

         @Override
         public void onProgressChanged(WebView view,int newProgress){
             if(newProgress == 100){
             //加载完成
             }else{
             //加载中
             }
         }
        }

8、提升访问网页的速度————WebView缓存的运用
        优先使用缓存：
         webView.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);
        不使用缓存(默认)：
         webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);
</code></pre><h3 id="使用WebView在界面中显示网页代码示例"><a href="#使用WebView在界面中显示网页代码示例" class="headerlink" title="使用WebView在界面中显示网页代码示例"></a>使用WebView在界面中显示网页代码示例</h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> WebView web;</div><div class="line">    <span class="keyword">private</span> ProgressDialog dialog;</div><div class="line">    </div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        </div><div class="line">        init();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="comment">//1、初始化WebView</span></div><div class="line">        web = (WebView) findViewById(R.id.web);</div><div class="line">        </div><div class="line">        <span class="comment">//2、使用WebView加载页面</span></div><div class="line">        <span class="comment">//加载本地文件</span></div><div class="line">        <span class="comment">//web.loadUrl("file:///android_asset/demo.html");</span></div><div class="line">        <span class="comment">//加载web资源</span></div><div class="line">        web.loadUrl(<span class="string">"http://www.baidu.com"</span>);</div><div class="line">        <span class="comment">//3、在manifest.xml中配置网络访问权限</span></div><div class="line">        <span class="comment">//4、覆盖WebView默认通过系统或第三方浏览器打开页面的行为，使得网页可以在WebView中打开</span></div><div class="line"></div><div class="line">        web.setWebViewClient(<span class="keyword">new</span> WebViewClient()&#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> </span>&#123;</div><div class="line">                <span class="comment">//返回值为true: 网页在WebView中打开</span></div><div class="line">                <span class="comment">//返回值为false: 网页通过系统或第三方浏览器打开</span></div><div class="line">                </div><div class="line">                view.loadUrl(url);</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">        &#125;);</div><div class="line">        <span class="comment">//WebViewClient用于帮助WebView处理一些页面控制和请求通知</span></div><div class="line">        </div><div class="line">        <span class="comment">//5、启动支持Javascript</span></div><div class="line">        WebSettings websettings = web.getSettings();</div><div class="line">        websettings.setJavaScriptEnabled(<span class="keyword">true</span>);</div><div class="line">        <span class="comment">//8、WebView加载页面优先使用缓存加载</span></div><div class="line">        websettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);</div><div class="line">        <span class="comment">//7、判断页面加载进度</span></div><div class="line">        web.setWebChromeClient(<span class="keyword">new</span> WebChromeClient()&#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(WebView view, <span class="keyword">int</span> newProgress)</span> </span>&#123;</div><div class="line">                <span class="comment">//TODO Auto-generated method stub</span></div><div class="line">                </div><div class="line">                <span class="comment">//newProgress 反应页面加载进度的整数 1-100</span></div><div class="line">                <span class="keyword">if</span>(newProgress == <span class="number">100</span>)&#123;</div><div class="line">                    <span class="comment">//网页加载完成，关闭对话框</span></div><div class="line">                    closeDialog();</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    <span class="comment">//网页正在加载中，显示对话框</span></div><div class="line">                    openDialog(newProgress);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">openDialog</span><span class="params">(<span class="keyword">int</span> newProgress)</span> </span>&#123;</div><div class="line">                <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">                <span class="keyword">if</span>(dialog==<span class="keyword">null</span>)&#123;</div><div class="line">                    dialog = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</div><div class="line">                    dialog.setTitle(<span class="string">"正在加载中..."</span>);</div><div class="line">                    dialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</div><div class="line">                    dialog.show();</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    <span class="comment">//刷新进度</span></div><div class="line">                    dialog.setProgress(newProgress);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">closeDialog</span><span class="params">()</span> </span>&#123;</div><div class="line">                <span class="keyword">if</span>(dialog!=<span class="keyword">null</span>&amp;&amp;dialog.isShowing())&#123;</div><div class="line">                    dialog.dismiss();</div><div class="line">                    dialog=<span class="keyword">null</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//6、改写物理返回按键的逻辑</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">onKeyDown</span><span class="params">(<span class="keyword">int</span> keyCode, KeyEvent event)</span> </span>&#123;</div><div class="line">        <span class="comment">// TODO Auto-generated method stub</span></div><div class="line">        <span class="keyword">if</span>((keyCode == KeyEvent.KEYCODE_BACK)&amp;&amp; web.canGoBack())&#123;</div><div class="line">            web.goBack();<span class="comment">//返回上一页面</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">onKeyDown</span><span class="params">(keyCode, event)</span></span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h2><p>1、一个Manifest.xml清单文件中只能包含一个application节点。<br>   这个节点中可以包含各种组件如activity、Service、Content Provider、Broadcase Receiver。<br>2、启动一个没有在Manifest.xml清单中定义的Activity会抛出异常，程序会崩溃。<br>3、Manifest.xml中的每个组件都必须包含android:name属性，推荐其值为”包名.类名”，intent-filter(过滤器)可以选写。<br>4、Manifest.xml中的四大组件中除了BroadcastReceiver可以使用代码声明注册外，<br>其他组件必须要在Manifest.xml中进行声明配置，否则程序会报错崩溃。<br>5、DatePicker和DatePickerDialog的对象的初始化传入参数及其返回值中的月份都是从0开始的，所以在界面显示真实月份时都需要加1。<br>6、选中xml文件中的文本，用ctrl+1、双击弹出来的”Extract String”,来设置文本字符串。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/android/" rel="tag">#android</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/05/how-to-use-crontab-on-linux/" rel="next" title="linux下定时自动备份和删除">
                <i class="fa fa-chevron-left"></i> linux下定时自动备份和删除
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/09/12/learn-android-step-by-step-three/" rel="prev" title="android入门三">
                android入门三 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/09/06/learn-android-step-by-step-two/"
           data-title="android入门二" data-url="https://aiolos123.github.io/2016/09/06/learn-android-step-by-step-two/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="aiolos" />
          <p class="site-author-name" itemprop="name">aiolos</p>
          <p class="site-description motion-element" itemprop="description">记录aiolos的学习成长</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#AndroidManifest-xml配置文件"><span class="nav-number">1.</span> <span class="nav-text">AndroidManifest.xml配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AndroidManifest-xml三类常用标签"><span class="nav-number">1.1.</span> <span class="nav-text">AndroidManifest.xml三类常用标签</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#全局标签-包名、版本信息、android版本"><span class="nav-number">1.1.1.</span> <span class="nav-text">全局标签(包名、版本信息、android版本)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#组件标签-四大组件的声明和配置"><span class="nav-number">1.1.2.</span> <span class="nav-text">组件标签(四大组件的声明和配置)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#权限标签-申请和定义权限的配置"><span class="nav-number">1.1.3.</span> <span class="nav-text">权限标签(申请和定义权限的配置)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#系统权限的使用"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">系统权限的使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#自定义权限的使用"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">自定义权限的使用</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#适配器"><span class="nav-number">2.</span> <span class="nav-text">适配器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用适配器的三个步骤"><span class="nav-number">2.1.</span> <span class="nav-text">使用适配器的三个步骤</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#监听器"><span class="nav-number">3.</span> <span class="nav-text">监听器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用监听器的二个步骤"><span class="nav-number">3.1.</span> <span class="nav-text">使用监听器的二个步骤</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ListView"><span class="nav-number">4.</span> <span class="nav-text">ListView</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ListView是什么"><span class="nav-number">4.1.</span> <span class="nav-text">ListView是什么</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ListView下常用的两种适配器"><span class="nav-number">4.2.</span> <span class="nav-text">ListView下常用的两种适配器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用ListView的五个步骤"><span class="nav-number">4.3.</span> <span class="nav-text">使用ListView的五个步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ArrayAdapter的代码示例如下"><span class="nav-number">4.4.</span> <span class="nav-text">ArrayAdapter的代码示例如下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SimpleAdapter的代码示例如下"><span class="nav-number">4.5.</span> <span class="nav-text">SimpleAdapter的代码示例如下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#监听ListView列表项点击事件"><span class="nav-number">4.6.</span> <span class="nav-text">监听ListView列表项点击事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#监听ListView列滚动事件"><span class="nav-number">4.7.</span> <span class="nav-text">监听ListView列滚动事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DatePicker和TimePicker"><span class="nav-number">5.</span> <span class="nav-text">DatePicker和TimePicker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DatePickerDialog和TimePickerDialog"><span class="nav-number">5.1.</span> <span class="nav-text">DatePickerDialog和TimePickerDialog</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#两组监听日期时间改变的监听器"><span class="nav-number">5.2.</span> <span class="nav-text">两组监听日期时间改变的监听器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DatePicker与TimePicker的代码示例"><span class="nav-number">5.3.</span> <span class="nav-text">DatePicker与TimePicker的代码示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DatePickerDialog与TimePickerDialog的代码示例"><span class="nav-number">5.4.</span> <span class="nav-text">DatePickerDialog与TimePickerDialog的代码示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意事项"><span class="nav-number">5.5.</span> <span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GridView"><span class="nav-number">6.</span> <span class="nav-text">GridView</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用GridView的五个步骤————同ListView"><span class="nav-number">6.1.</span> <span class="nav-text">使用GridView的五个步骤————同ListView</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GridView使用示例代码"><span class="nav-number">6.2.</span> <span class="nav-text">GridView使用示例代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用GridView视图时，需要2个布局文件"><span class="nav-number">6.3.</span> <span class="nav-text">使用GridView视图时，需要2个布局文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spinner"><span class="nav-number">7.</span> <span class="nav-text">Spinner</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Spinner的六个步骤"><span class="nav-number">7.1.</span> <span class="nav-text">使用Spinner的六个步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Spinner示例代码"><span class="nav-number">7.2.</span> <span class="nav-text">使用Spinner示例代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ProgressBar"><span class="nav-number">8.</span> <span class="nav-text">ProgressBar</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定制ProgressBar显示风格"><span class="nav-number">8.1.</span> <span class="nav-text">定制ProgressBar显示风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProgressBar的两个分类"><span class="nav-number">8.2.</span> <span class="nav-text">ProgressBar的两个分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#标题栏显示ProgressBar"><span class="nav-number">8.3.</span> <span class="nav-text">标题栏显示ProgressBar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProgressBar的关键属性"><span class="nav-number">8.4.</span> <span class="nav-text">ProgressBar的关键属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProgressBar的关键方法"><span class="nav-number">8.5.</span> <span class="nav-text">ProgressBar的关键方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用ProgressBar实现加载进度条示例代码"><span class="nav-number">8.6.</span> <span class="nav-text">使用ProgressBar实现加载进度条示例代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对话框形式的进度条ProgressDialog的使用"><span class="nav-number">8.7.</span> <span class="nav-text">对话框形式的进度条ProgressDialog的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义进度条样式"><span class="nav-number">8.8.</span> <span class="nav-text">自定义进度条样式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#默认进度条样式的引用路径"><span class="nav-number">8.8.1.</span> <span class="nav-text">默认进度条样式的引用路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义进度条样式-1"><span class="nav-number">8.8.2.</span> <span class="nav-text">自定义进度条样式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WebView"><span class="nav-number">9.</span> <span class="nav-text">WebView</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Intent调用系统浏览器"><span class="nav-number">9.1.</span> <span class="nav-text">通过Intent调用系统浏览器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用WebView在界面中显示网页"><span class="nav-number">9.2.</span> <span class="nav-text">使用WebView在界面中显示网页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用WebView在界面中显示网页代码示例"><span class="nav-number">9.3.</span> <span class="nav-text">使用WebView在界面中显示网页代码示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注意事项-1"><span class="nav-number">10.</span> <span class="nav-text">注意事项</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">aiolos</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"aiolos123"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("5QTIOWC4jLjGHKUXBCRidUXY-gzGzoHsz", "LnJSjRjTBkyB7VThVKxbqlTk");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
